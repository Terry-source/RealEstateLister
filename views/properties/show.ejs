<%- include('../partials/header') %>

  <style>
    .property-page {
      display: flex;
      justify-content: space-between;
    }

    .property-image {
      flex-basis: 60%;

      padding-right: 20px;
    }

    .property-image img {
      width: 100%;
      height: auto;
      border-radius: 5px;
    }

    .property-info,
    .owner-info {
      flex-basis: 38%;
      display: flex;
      flex-direction: column;
    }

    .owner-avatar {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      margin-bottom: 10px;
    }

    .property-details,
    .owner-info {
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
  </style>

  <main>
    <h1>Property Details</h1>
    <div class="property-page">
      <div class="property-image">
        <% if (property.imageUrl) { %>
          <img src="<%= property.imageUrl %>" alt="Image of <%= property.address %>">
          <% } else { %>
            <p>No image available.</p>
            <% } %>
      </div>

      <div class="property-info">
        <div class="property-details">
          <h2>
            <%= property.address %>
          </h2>
          <p>Rooms: <%= property.rooms %>
          </p>
          <p>Bathrooms: <%= property.bathrooms %>
          </p>
          <% if (property.suburb && property.suburb.name) { %>
            <p>Suburb: <a href="/suburbs/<%= property.suburb._id %>">
                <%= property.suburb.name %>
              </a></p>
            <% } %>
        </div>

        <div class="owner-info">
          <h3>Owner Contact Information</h3>
          <% if (property.owner.avatar) { %>
            <a href="/users/<%= property.owner._id %>">
              <img src="<%= property.owner.avatar %>" alt="<%= property.owner.name %>'s Avatar" class="owner-avatar">
            </a>
            <% } else { %>
              <img
                src="https://www.dlf.pt/dfpng/middlepng/276-2761324_transparent-default-avatar-png-profile-no-image-icon.png"
                alt="Default Avatar" class="owner-avatar">
              <% } %>
                <p><strong>Name:</strong>
                  <%= property.owner.name %>
                </p>
                <p><strong>Email:</strong>
                  <%= property.owner.email %>
                </p>
        </div>
      </div>
    </div>
  </main>

  <%- include('../partials/footer') %>